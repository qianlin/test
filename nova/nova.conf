
# This file autogenerated by Chef
# Do not edit, changes will be overwritten


[DEFAULT]

# LOGS/STATE
debug=False
verbose=False
auth_strategy=keystone
dhcpbridge_flagfile=/etc/nova/nova.conf
dhcpbridge=/usr/bin/nova-dhcpbridge
log_dir=/var/log/nova
state_path=/var/lib/nova
instances_path=/var/lib/nova/instances
instance_name_template=instance-%08x
network_allocate_retries=0
lock_path=/var/lib/nova/lock

# Command prefix to use for running commands as root (default: sudo)
rootwrap_config=/etc/nova/rootwrap.conf

# Should unused base images be removed? (default: false)
remove_unused_base_images=true

# Unused unresized base images younger than this will not be removed (default: 86400)
remove_unused_original_minimum_age_seconds=3600

# Options defined in nova.openstack.common.rpc
# Seconds to wait before a cast expires (TTL). Only supported
# # by impl_zmq. (integer value)
rpc_cast_timeout=300
# # Seconds to wait for a response from a call. (integer value)
rpc_response_timeout=300
rpc_thread_pool_size=240
rpc_conn_pool_size=100
rpc_backend=nova.openstack.common.rpc.impl_kombu
amqp_durable_queues=false
amqp_auto_delete=false

##### RABBITMQ #####
rabbit_userid=guest
rabbit_password=guest123
rabbit_virtual_host=/nova
rabbit_host=10.1.0.205
rabbit_port=5672
rabbit_use_ssl=false



##### SCHEDULER #####
# scheduler_manager=nova.scheduler.manager.SchedulerManager
compute_scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler
scheduler_available_filters=nova.scheduler.filters.all_filters
# which filter class names to use for filtering hosts when not specified in the request.
scheduler_default_filters=AvailabilityZoneFilter,RamFilter,ComputeFilter,CoreFilter,SameHostFilter,DifferentHostFilter
default_availability_zone=nova
default_schedule_zone=nova
storage_availability_zone=nova
sql_connection=mysql://nova:nova@10.1.0.205:3306/nova?charset=utf8
sql_max_pool_size=100
sql_max_overflow=100
# New instances will be scheduled on a host chosen randomly
# from a subset of the N best hosts. This property defines the
# subset size that a host is chosen from. A value of 1 chooses
# the first host returned by the weighing functions. This
# value must be at least 1. Any value less than 1 will be
# ignored, and 1 will be used instead (integer value)
scheduler_host_subset_size=100

##### NETWORK #####

# N.B. due to https://bugs.launchpad.net/nova/+bug/1206330
# we override the endpoint scheme below, ignore the port
# and essentially force http
neutron_url=http://10.1.1.250:9696
neutron_url_timeout=90
network_api_class=nova.network.neutronv2.api.API
neutron_auth_strategy=keystone
neutron_admin_tenant_name=service
neutron_admin_username=neutron
neutron_admin_password=openstack-network
neutron_admin_auth_url=http://10.1.1.250:5000/v2.0
linuxnet_interface_driver=nova.network.linux_net.LinuxOVSInterfaceDriver
firewall_driver = nova.virt.firewall.NoopFirewallDriver
security_group_api=neutron
service_neutron_metadata_proxy=true
neutron_metadata_proxy_shared_secret=neutron_metadata_secret
default_floating_pool=public
dns_server=8.8.8.8


##### GLANCE #####
image_service=nova.image.glance.GlanceImageService
glance_api_servers=glance:9292
glance_num_retries= 2

##### COMPUTE #####
compute_driver=libvirt.LibvirtDriver
preallocate_images=none
use_cow_images=true
vif_plugging_is_fatal=True
vif_plugging_timeout=360
compute_manager=nova.compute.manager.ComputeManager
connection_type=libvirt
live_migration_retry_count=30
force_config_drive=true

##### NOTIFICATIONS #####
# Driver or drivers to handle sending notifications (multi valued)

# Generate periodic compute.instance.exists notifications
instance_usage_audit=False

# Time period to generate instance usages for.  Time period
# must be hour, day, month or year (string value)
instance_usage_audit_period=month


# The IP address on which the OpenStack API will listen. (string value)
osapi_compute_listen=10.1.0.207
# The port on which the OpenStack API will listen. (integer value)
osapi_compute_listen_port=8774

##### VNCPROXY #####
novncproxy_base_url=http://10.1.1.250:6080/vnc_auto.html
xvpvncproxy_base_url=http://127.0.0.1:6081/console

# This is only required on the server running xvpvncproxy
xvpvncproxy_host=127.0.0.1
xvpvncproxy_port=6081

# This is only required on the server running novncproxy
novncproxy_host=10.1.0.207
novncproxy_port=6080

vncserver_listen=0.0.0.0
vncserver_proxyclient_address=10.1.0.207

# store consoleauth tokens in memcached
memcached_servers=10.1.0.206:11211,10.1.0.207:11211,10.1.0.208:11211

##### MISC #####
# force backing images to raw format
force_raw_images=false
allow_same_net_traffic=true
osapi_max_limit=5000
# If you terminate SSL with a load balancer, the HTTP_HOST environ
# variable that generates the request_uri in webob.Request will lack
# the HTTPS scheme. Setting this overrides the default and allows
# URIs returned in the various links collections to contain the proper
# HTTPS endpoint.
osapi_compute_link_prefix = http://10.1.1.250:8774/v2/%(tenant_id)s
start_guests_on_host_boot=false
resume_guests_state_on_host_boot=true
allow_resize_to_same_host=false

##### QUOTAS #####
# (StrOpt) default driver to use for quota checks (default: nova.quota.DbQuotaDriver)
quota_driver=nova.quota.DbQuotaDriver
# number of security groups per project (default: 10)
quota_security_groups=200
# number of security rules per security group (default: 20)
quota_security_group_rules=200
# number of instance cores allowed per project (default: 20)
quota_cores=100
# number of fixed ips allowed per project (this should be at least the number of instances allowed) (default: -1)
quota_fixed_ips=-1
# number of floating ips allowed per project (default: 10)
quota_floating_ips=100
# number of bytes allowed per injected file (default: 10240)
quota_injected_file_content_bytes=10240
# number of bytes allowed per injected file path (default: 255)
quota_injected_file_path_bytes=255
# number of injected files allowed (default: 5)
quota_injected_files=5
# number of instances allowed per project (defailt: 10)
quota_instances=100
# number of key pairs per user (default: 100)
quota_key_pairs=100
# number of metadata items allowed per instance (default: 128)
quota_metadata_items=128
# megabytes of instance ram allowed per project (default: 51200)
quota_ram=512000


# FilterScheduler Only Options
# virtual CPU to Physical CPU allocation ratio (default: 16.0)
cpu_allocation_ratio=2.0
# virtual ram to physical ram allocation ratio (default: 1.5)
ram_allocation_ratio=1.0

mkisofs_cmd=genisoimage
injected_network_template=$pybasedir/nova/virt/interfaces.template


# a list of APIs to enable by default (list value)
enabled_apis=osapi_compute

##### WORKERS ######
osapi_compute_workers=6

##### VOLUMES #####
# iscsi target user-land tool to use
iscsi_helper=ietadm
volume_api_class=nova.volume.cinder.API
# Region name of this node (string value)
os_region_name=RegionOne

##### THIRD PARTY ADDITIONS #####


[conductor]

use_local=False
workers=6


[libvirt]

#
# Options defined in nova.virt.libvirt.driver
#

# Rescue ami image (string value)
#rescue_image_id=<None>

# Rescue aki image (string value)
#rescue_kernel_id=<None>

# Rescue ari image (string value)
#rescue_ramdisk_id=<None>

# Libvirt domain type (valid options are: kvm, lxc, qemu, uml,
# xen) (string value)
# Deprecated group/name - [DEFAULT]/libvirt_type
virt_type=kvm

# Override the default libvirt URI (which is dependent on
# virt_type) (string value)
# Deprecated group/name - [DEFAULT]/libvirt_uri
#connection_uri=

# Inject the admin password at boot time, without an agent.
# (boolean value)
# Deprecated group/name - [DEFAULT]/libvirt_inject_password
inject_password=false

# Inject the ssh public key at boot time (boolean value)
# Deprecated group/name - [DEFAULT]/libvirt_inject_key
inject_key=true

# The partition to inject to : -2 => disable, -1 => inspect
# (libguestfs only), 0 => not partitioned, >0 => partition
# number (integer value)
# Deprecated group/name - [DEFAULT]/libvirt_inject_partition
#inject_partition=-2

# Sync virtual and real mouse cursors in Windows VMs (boolean
# value)
#use_usb_tablet=true

# Migration target URI (any included "%s" is replaced with the
# migration target hostname) (string value)
live_migration_uri=qemu+tcp://%s/system

# Migration flags to be set for live migration (string value)
live_migration_flag=VIR_MIGRATE_UNDEFINE_SOURCE, VIR_MIGRATE_PEER2PEER, VIR_MIGRATE_LIVE

# Migration flags to be set for block migration (string value)
#block_migration_flag=VIR_MIGRATE_UNDEFINE_SOURCE, VIR_MIGRATE_PEER2PEER, VIR_MIGRATE_NON_SHARED_INC

# Maximum bandwidth to be used during migration, in Mbps
# (integer value)
live_migration_bandwidth=0

# Snapshot image format (valid options are : raw, qcow2, vmdk,
# vdi). Defaults to same as source image (string value)
snapshot_image_format=qcow2

# The libvirt VIF driver to configure the VIFs. (string value)
# Deprecated group/name - [DEFAULT]/libvirt_vif_driver
vif_driver=nova.virt.libvirt.vif.LibvirtGenericVIFDriver

# Libvirt handlers for remote volumes. (list value)
# Deprecated group/name - [DEFAULT]/libvirt_volume_drivers
#volume_drivers=iscsi=nova.virt.libvirt.volume.LibvirtISCSIVolumeDriver,iser=nova.virt.libvirt.volume.LibvirtISERVolumeDriver,local=nova.virt.libvirt.volume.LibvirtVolumeDriver,fake=nova.virt.libvirt.volume.LibvirtFakeVolumeDriver,rbd=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,sheepdog=nova.virt.libvirt.volume.LibvirtNetVolumeDriver,nfs=nova.virt.libvirt.volume.LibvirtNFSVolumeDriver,aoe=nova.virt.libvirt.volume.LibvirtAOEVolumeDriver,glusterfs=nova.virt.libvirt.volume.LibvirtGlusterfsVolumeDriver,fibre_channel=nova.virt.libvirt.volume.LibvirtFibreChannelVolumeDriver,scality=nova.virt.libvirt.volume.LibvirtScalityVolumeDriver

# Override the default disk prefix for the devices attached to
# a server, which is dependent on virt_type. (valid options
# are: sd, xvd, uvd, vd) (string value)
# Deprecated group/name - [DEFAULT]/libvirt_disk_prefix
#disk_prefix=<None>

# Number of seconds to wait for instance to shut down after
# soft reboot request is made. We fall back to hard reboot if
# instance does not shutdown within this window. (integer
# value)
# Deprecated group/name - [DEFAULT]/libvirt_wait_soft_reboot_seconds
#wait_soft_reboot_seconds=120

# Set to "host-model" to clone the host CPU feature flags; to
# "host-passthrough" to use the host CPU model exactly; to
# "custom" to use a named CPU model; to "none" to not set any
# CPU model. If virt_type="kvm|qemu", it will default to
# "host-model", otherwise it will default to "none" (string
# value)
# Deprecated group/name - [DEFAULT]/libvirt_cpu_mode

# Set to a named libvirt CPU model (see names listed in
# /usr/share/libvirt/cpu_map.xml). Only has effect if
# cpu_mode="custom" and virt_type="kvm|qemu" (string value)
# Deprecated group/name - [DEFAULT]/libvirt_cpu_model
#cpu_model=<none>

# Location where libvirt driver will store snapshots before
# uploading them to image service (string value)
# Deprecated group/name - [DEFAULT]/libvirt_snapshots_directory
#snapshots_directory=$instances_path/snapshots

# Location where the Xen hvmloader is kept (string value)
#xen_hvmloader_path=/usr/lib/xen/boot/hvmloader

# Specific cachemodes to use for different disk types e.g:
# file=directsync,block=none (list value)

# A path to a device that will be used as source of entropy on
# the host. Permitted options are: /dev/random or /dev/hwrng
# (string value)
#rng_dev_path=<None>

#
# Options defined in nova.virt.libvirt.imagecache
#

# Unused resized base images younger than this will not be removed (default: 3600)
remove_unused_resized_minimum_age_seconds=3600

# Write a checksum for files in _base to disk (default: false)
checksum_base_images=false

#
# Options defined in nova.virt.libvirt.vif
#

use_virtio_for_bridges=true

#
# Options defined in nova.virt.libvirt.imagebackend
#

# VM Images format. Acceptable values are: raw, qcow2, lvm, rbd, default. If default is specified,
# then use_cow_images flag is used instead of this one.
images_type=default

